<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 21 March 2014 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="The MyBatis Team" />
    <meta name="Date-Revision-yyyymmdd" content="20140321" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MyBatis - 
    MyBatis Memcached | Reference Documentation</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MyBatis Caches :: Memcached</h2>
                </div>
                      </div>
        <div class="pull-right">                                <a href="../../" id="bannerRight" title="MyBatis logo">
                                                                                        <img src="http://mybatis.github.io/images/mybatis-logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 21 March 2014
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0.0
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Reference Documentation</li>
                              
      <li class="active">
  
            <a href="#"><i class="none"></i>Introduction</a>
          </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                              
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-down"></i>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <i class="none"></i>
        Dependencies</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><i class="none"></i>About</a>
          </li>
                    
      <li>
  
                          <a href="project-summary.html" title="Project Summary">
          <i class="none"></i>
        Project Summary</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- Copyright 2010-2012 The MyBatis Team

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. --><!-- version: $Id$ -->

  
    <div class="section">
<h2>MyBatis Memcached integration - Reference Documentation<a name="MyBatis_Memcached_integration_-_Reference_Documentation"></a></h2>

    
<p><a class="externalLink" href="http://memcached.org/">Memcached</a> is an in-memory key-value store for small chunks of arbitrary data
    (strings, objects) from results of database calls, API calls, or page rendering..</p>
    
<p>The Memcached integration is built on top of the <tt>spymemcached</tt> client, written by Dustin Sallings.</p>
    
<p>Users that want to use Memcached into their applications, have to download the
    <a class="externalLink" href="http://code.google.com/p/mybatis/downloads/list?q=Product-Cache">zip bundle</a>, decompress it and add the jars in the classpath;
    Apache Maven users instead can simply add in
    the <tt>pom.xml</tt> the following dependency:</p>
    
<div class="source">
<pre>&lt;dependencies&gt;
  ...
  &lt;dependency&gt;
    &lt;groupId&gt;org.mybatis.caches&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-memcached&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
  &lt;/dependency&gt;
  ...
&lt;/dependencies&gt;</pre></div>
            
<p>then, just configure it in the mapper XML</p>
            
<div class="source">
<pre>&lt;mapper namespace=&quot;org.acme.FooMapper&quot;&gt;
  &lt;cache type=&quot;org.mybatis.caches.memcached.MemcachedCache&quot; /&gt;
  ...
&lt;/mapper&gt;</pre></div>

  
<p>The Memcached cache is configurable by putting the
  <tt>/memcached.properties</tt> classpath resource; if not found, the client will
  use the default setting.</p>
  
<p>The following table resumes the supported configurations params; each
  parameter is optional, if not found in the configuration, the client will use
  the default value:</p>

  
<table border="0" class="table table-striped">
    
<tr class="a">
      
<th>Property</th>
      
<th>Default</th>
      
<th>Description</th>
    </tr>
    
<tr class="b">
      
<td>org.mybatis.caches.memcached.keyprefix</td>
      
<td><tt>_mybatis_</tt></td>
      
<td>any string identifier</td>
    </tr>
    
<tr class="a">
      
<td>org.mybatis.caches.memcached.servers</td>
      
<td><tt>localhost:11211</tt></td>
      
<td>space separated list of <tt>${host}:${port}</tt></td>
    </tr>
    
<tr class="b">
      
<td>org.mybatis.caches.memcached.connectionfactory</td>
      
<td><tt>net.spy.memcached.DefaultConnectionFactory</tt></td>
      
<td>Any class that implements <tt>net.spy.memcached.ConnectionFactory</tt></td>
    </tr>
    
<tr class="a">
      
<td>org.mybatis.caches.memcached.expiration</td>
      
<td>the number of seconds in 30 days</td>
      
<td>the expiration time (in seconds)</td>
    </tr>
    
<tr class="b">
      
<td>org.mybatis.caches.memcached.asyncget</td>
      
<td><tt>false</tt></td>
      
<td>flag to enable/disable the async get</td>
    </tr>
    
<tr class="a">
      
<td>org.mybatis.caches.memcached.timeout</td>
      
<td><tt>5</tt></td>
      
<td>the timeout when using async get</td>
    </tr>
    
<tr class="b">
      
<td>org.mybatis.caches.memcached.timeoutunit</td>
      
<td><tt>java.util.concurrent.TimeUnit.SECONDS</tt></td>
      
<td>the timeout unit when using async get</td>
    </tr>
    
<tr class="a">
      
<td>org.mybatis.caches.memcached.compression</td>
      
<td><tt>false</tt></td>
      
<td>if true, objects will be GZIP compressed before putting them to Memcached</td>
    </tr>
  </table>

    
<p>If users need to log cache operations, they can plug the Cache logging version:</p>
    
<div class="source">
<pre>&lt;mapper namespace=&quot;org.acme.FooMapper&quot;&gt;
  &lt;cache type=&quot;org.mybatis.caches.memcached.LoggingMemcachedCache&quot; /&gt;
  ...
&lt;/mapper&gt;</pre></div>
        </div>
    


                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2010&#x2013;2014
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
